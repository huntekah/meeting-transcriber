=== RUFF CHECK ===
All checks passed!

=== BANDIT SECURITY ===
[main]	INFO	profile include tests: None
[main]	INFO	profile exclude tests: None
[main]	INFO	cli include tests: None
[main]	INFO	cli exclude tests: None
[main]	INFO	running on Python 3.13.5
Working... ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 100% 0:00:00
Run started:2026-02-26 07:34:51.689217+00:00

Test results:
	No issues identified.

Code scanned:
	Total lines of code: 4399
	Total lines skipped (#nosec): 0
	Total potential issues skipped due to specifically being disabled (e.g., #nosec BXXX): 2

Run metrics:
	Total issues (by severity):
		Undefined: 0
		Low: 0
		Medium: 0
		High: 0
	Total issues (by confidence):
		Undefined: 0
		Low: 0
		Medium: 0
		High: 0
Files skipped (0):

=== MYPY TYPE CHECK ===
src/asr_service/services/transcript_merger.py:29: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/asr_service/services/transcript_merger.py:35: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/asr_service/services/vad_producer.py:328: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/asr_service/services/model_manager.py:39: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/asr_service/services/model_manager.py:41: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/asr_service/services/live_transcriber.py:117: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/asr_service/services/live_transcriber.py:118: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/asr_service/services/session_manager.py:34: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
Success: no issues found in 52 source files

=== RADON COMPLEXITY ===
src/asr_service/main.py
    F 18:0 lifespan - A
    F 72:0 root - A
    F 88:0 health - A
src/asr_service/core/logging.py
    F 29:0 _normalize_level - A
    F 72:0 setup_logging - A
    C 37:0 LoggingSettings - A
    M 57:4 LoggingSettings.from_env - A
src/asr_service/core/config.py
    M 78:4 Settings.get_device - A
    C 22:0 Settings - A
    M 73:4 Settings.__init__ - A
src/asr_service/core/singleton.py
    C 12:0 SingletonBase - A
    M 18:4 SingletonBase.__new__ - A
src/asr_service/core/exceptions.py
    C 30:0 TranscriptionError - A
    C 14:0 SessionNotFoundError - A
    C 22:0 DeviceNotFoundError - A
    M 33:4 TranscriptionError.__init__ - A
    C 41:0 ModelLoadingError - A
    C 50:0 SessionStateError - A
    C 63:0 AudioCaptureError - A
    C 8:0 ASRServiceError - A
    M 17:4 SessionNotFoundError.__init__ - A
    M 25:4 DeviceNotFoundError.__init__ - A
    M 44:4 ModelLoadingError.__init__ - A
    M 53:4 SessionStateError.__init__ - A
    M 66:4 AudioCaptureError.__init__ - A
src/asr_service/utils/file_ops.py
    F 8:0 get_project_root - A
    F 31:0 create_temp_file - A
    F 54:0 validate_mime_type - A
src/asr_service/schemas/transcription.py
    C 13:0 SessionState - A
    C 24:0 Utterance - A
    C 64:0 SourceConfig - A
    C 94:0 SessionConfig - A
    C 118:0 SessionResponse - A
    C 142:0 TranscriptDocument - A
    C 178:0 ColdTranscriptSegment - A
    C 199:0 ColdTranscriptResult - A
src/asr_service/schemas/devices.py
    C 10:0 AudioDevice - A
src/asr_service/schemas/websocket.py
    C 12:0 WSUtteranceMessage - A
    C 39:0 WSStateChangeMessage - A
    C 53:0 WSErrorMessage - A
    C 74:0 WSFinalTranscriptMessage - A
    C 99:0 WSMentionAlertMessage - A
src/asr_service/api/deps.py
    F 11:0 get_session_manager - A
    F 28:0 get_model_manager - A
src/asr_service/api/v1/endpoints/sessions.py
    F 77:0 stop_session - A
    F 26:0 create_session - A
    F 110:0 get_session_status - A
    F 172:0 get_session_stats - A
    F 140:0 list_sessions - A
    F 158:0 delete_session - A
src/asr_service/api/v1/endpoints/devices.py
    F 17:0 get_audio_devices - A
src/asr_service/api/v1/endpoints/websocket.py
    F 17:0 websocket_endpoint - B
src/asr_service/services/source_pipeline.py
    M 86:4 SourcePipeline.stop - A
    C 19:0 SourcePipeline - A
    M 27:4 SourcePipeline.__init__ - A
    M 69:4 SourcePipeline.start - A
    M 121:4 SourcePipeline.get_audio - A
    M 130:4 SourcePipeline.get_stats - A
src/asr_service/services/session_manager.py
    M 40:4 SessionManager.create_session - A
    C 21:0 SessionManager - A
    M 29:4 SessionManager.__init__ - A
    M 102:4 SessionManager.get_session - A
    M 146:4 SessionManager.delete_session - A
    M 123:4 SessionManager.get_session_or_none - A
    M 136:4 SessionManager.list_sessions - A
    M 160:4 SessionManager.get_all_sessions - A
    M 170:4 SessionManager.get_stats - A
src/asr_service/services/session.py
    M 527:4 ActiveSession._save_transcript_markdown - B
    M 478:4 ActiveSession.get_document - B
    C 41:0 ActiveSession - A
    M 241:4 ActiveSession._cleanup_empty_output_dir - A
    M 386:4 ActiveSession._broadcast_message - A
    M 588:4 ActiveSession.get_stats - A
    M 112:4 ActiveSession.initialize - A
    M 179:4 ActiveSession.stop_recording - A
    M 356:4 ActiveSession._broadcast_utterance_sync - A
    M 448:4 ActiveSession._set_state - A
    M 501:4 ActiveSession._save_transcript - A
    M 162:4 ActiveSession.start_recording - A
    M 254:4 ActiveSession._run_cold_path_background - A
    M 313:4 ActiveSession._create_producer - A
    M 406:4 ActiveSession.add_websocket_client - A
    M 432:4 ActiveSession.remove_websocket_client - A
    M 54:4 ActiveSession.__init__ - A
    M 275:4 ActiveSession._run_cold_path - A
    M 348:4 ActiveSession._on_utterance - A
src/asr_service/services/audio_devices.py
    F 16:0 list_audio_devices - C
    F 136:0 _is_screencapture_binary_available - A
    F 188:0 get_default_input_device - A
    F 109:0 _is_macos_13_or_later - A
    F 171:0 get_device_by_index - A
src/asr_service/services/vad_producer.py
    M 235:4 VADAudioProducer._vad_processing_loop - B
    M 134:4 VADAudioProducer.stop - B
    C 26:0 VADAudioProducer - A
    M 36:4 VADAudioProducer.__init__ - A
    M 104:4 VADAudioProducer.start - A
    M 301:4 VADAudioProducer._finalize_segment - A
    M 164:4 VADAudioProducer._capture_loop - A
    M 346:4 VADAudioProducer.get_full_audio - A
    M 357:4 VADAudioProducer.get_stats - A
src/asr_service/services/model_manager.py
    M 163:4 ModelManager._load_cold_pipeline_class - A
    C 22:0 ModelManager - A
    M 50:4 ModelManager.load_models - A
    M 136:4 ModelManager.get_cold_pipeline - A
    M 177:4 ModelManager._resolve_cold_pipeline_path - A
    M 34:4 ModelManager.__init__ - A
    M 74:4 ModelManager._load_models_sync - A
    M 107:4 ModelManager._preload_mlx_whisper - A
    M 199:4 ModelManager.unload_models - A
    M 190:4 ModelManager.is_loaded - A
    M 221:4 ModelManager.get_stats - A
src/asr_service/services/audio_producer.py
    C 13:0 AudioProducerBase - A
    M 22:4 AudioProducerBase.__init__ - A
    M 44:4 AudioProducerBase.start - A
    M 54:4 AudioProducerBase.stop - A
    M 59:4 AudioProducerBase.get_full_audio - A
    M 69:4 AudioProducerBase.get_stats - A
src/asr_service/services/transcript_merger.py
    M 84:4 ChronologicalMerger._find_overlaps - B
    M 175:4 ChronologicalMerger.get_stats - A
    C 16:0 ChronologicalMerger - A
    M 51:4 ChronologicalMerger.add_utterance - A
    M 135:4 ChronologicalMerger.get_utterances_since - A
    M 154:4 ChronologicalMerger.get_recent_utterances - A
    M 25:4 ChronologicalMerger.__init__ - A
    M 39:4 ChronologicalMerger.add_listener - A
    M 125:4 ChronologicalMerger.get_all_utterances - A
    M 169:4 ChronologicalMerger.clear - A
src/asr_service/services/audio_mixer.py
    C 17:0 AudioMixer - B
    M 25:4 AudioMixer.mix_to_mono - B
    M 89:4 AudioMixer.save_multi_channel - B
    M 147:4 AudioMixer.get_duration - A
src/asr_service/services/screencapture_producer.py
    M 219:4 ScreenCaptureAudioProducer._read_loop - B
    M 277:4 ScreenCaptureAudioProducer._stderr_loop - B
    M 96:4 ScreenCaptureAudioProducer.start - B
    M 172:4 ScreenCaptureAudioProducer.stop - B
    C 22:0 ScreenCaptureAudioProducer - B
    M 32:4 ScreenCaptureAudioProducer.__init__ - A
    M 300:4 ScreenCaptureAudioProducer._push_segment - A
    M 335:4 ScreenCaptureAudioProducer.get_full_audio - A
    M 347:4 ScreenCaptureAudioProducer.get_stats - A
src/asr_service/services/live_transcriber.py
    M 99:4 LiveTranscriber._inference_loop - C
    C 26:0 LiveTranscriber - A
    M 202:4 LiveTranscriber._transcribe - A
    M 69:4 LiveTranscriber.start - A
    M 82:4 LiveTranscriber.stop - A
    M 36:4 LiveTranscriber.__init__ - A
    M 254:4 LiveTranscriber.get_stats - A
src/asr_service/services/cold_transcriber.py
    M 244:4 ColdPathPostProcessor._find_silence_chunks - C
    M 73:4 ColdPathPostProcessor.process_long_audio - B
    C 23:0 ColdPathPostProcessor - B
    M 44:4 ColdPathPostProcessor._ensure_pipeline - A
    M 54:4 ColdPathPostProcessor._ensure_vad_model - A
    M 34:4 ColdPathPostProcessor.__init__ - A
src/cli_frontend/logging.py
    F 27:0 _normalize_level - A
    F 64:0 setup_logging - A
    C 35:0 CLILoggingSettings - A
    M 49:4 CLILoggingSettings.from_env - A
src/cli_frontend/settings_persistence.py
    C 13:0 SettingsPersistence - A
    M 99:4 SettingsPersistence._load_raw_settings - A
    M 25:4 SettingsPersistence.save_device_selection - A
    M 51:4 SettingsPersistence.load_device_selection - A
    M 68:4 SettingsPersistence.save_output_dir - A
    M 83:4 SettingsPersistence.load_output_dir - A
    M 16:4 SettingsPersistence.__init__ - A
    M 116:4 SettingsPersistence._save_raw_settings - A
src/cli_frontend/config.py
    C 10:0 CLISettings - A
src/cli_frontend/models.py
    C 11:0 AudioDevice - A
    C 22:0 SourceConfig - A
    C 31:0 Utterance - A
    C 43:0 SessionResponse - A
    C 52:0 WSUtteranceMessage - A
    C 59:0 WSStateChangeMessage - A
    C 66:0 WSFinalTranscriptMessage - A
    C 73:0 WSErrorMessage - A
src/cli_frontend/app.py
    C 15:0 MeetingScribeApp - A
    M 33:4 MeetingScribeApp.__init__ - A
    M 38:4 MeetingScribeApp.on_mount - A
    M 43:4 MeetingScribeApp.action_settings - A
    M 53:4 MeetingScribeApp.action_help - A
    M 83:4 MeetingScribeApp.action_quit - A
src/cli_frontend/__main__.py
    F 11:0 main - A
src/cli_frontend/screens/recording.py
    M 78:4 RecordingScreen.on_ws_message - C
    C 20:0 RecordingScreen - A
    M 29:4 RecordingScreen.__init__ - A
    M 156:4 RecordingScreen.stop_recording - A
    M 151:4 RecordingScreen.on_button_pressed - A
    M 174:4 RecordingScreen.return_to_setup - A
    M 183:4 RecordingScreen.on_unmount - A
    M 50:4 RecordingScreen.compose - A
    M 64:4 RecordingScreen.on_mount - A
    M 147:4 RecordingScreen.action_stop_recording - A
src/cli_frontend/screens/setup.py
    M 128:4 SetupScreen.start_recording - C
    C 20:0 SetupScreen - A
    M 75:4 SetupScreen.load_devices - A
    M 121:4 SetupScreen.on_button_pressed - A
    M 28:4 SetupScreen.__init__ - A
    M 35:4 SetupScreen.compose - A
    M 71:4 SetupScreen.on_mount - A
src/cli_frontend/screens/settings.py
    M 77:4 SettingsScreen.on_button_pressed - A
    C 14:0 SettingsScreen - A
    M 21:4 SettingsScreen.__init__ - A
    M 25:4 SettingsScreen.compose - A
    M 84:4 SettingsScreen.save_settings - A
src/cli_frontend/api/client.py
    M 34:4 ASRClient.create_session - A
    C 13:0 ASRClient - A
    M 21:4 ASRClient.get_devices - A
    M 16:4 ASRClient.__init__ - A
    M 59:4 ASRClient.stop_session - A
    M 75:4 ASRClient.get_session - A
    M 91:4 ASRClient.list_sessions - A
    M 104:4 ASRClient.close - A
src/cli_frontend/api/websocket.py
    M 24:4 WSClient.connect - B
    C 15:0 WSClient - A
    M 86:4 WSClient.disconnect - A
    M 92:4 WSClient.send - A
    M 18:4 WSClient.__init__ - A
    M 73:4 WSClient.start - A
src/cli_frontend/widgets/status_bar.py
    M 35:4 StatusBar.update_timer - A
    C 13:0 StatusBar - A
    M 16:4 StatusBar.__init__ - A
    M 22:4 StatusBar.start_recording - A
    M 29:4 StatusBar.stop_recording - A
    M 48:4 StatusBar.set_status - A
src/cli_frontend/widgets/transcript_view.py
    C 13:0 TranscriptView - A
    M 27:4 TranscriptView.add_utterance - A
    M 16:4 TranscriptView.__init__ - A
    M 64:4 TranscriptView.clear_transcript - A
src/cli_frontend/widgets/device_selector.py
    M 63:4 DeviceSelector.set_devices - B
    C 12:0 DeviceSelector - A
    M 15:4 DeviceSelector.__init__ - A
    M 45:4 DeviceSelector._create_options - A

231 blocks (classes, functions, methods) analyzed.
Average complexity: A (2.6233766233766236)

=== VULTURE DEAD CODE ===
src/asr_service/api/v1/endpoints/devices.py:16: unused function 'get_audio_devices' (60% confidence)
src/asr_service/api/v1/endpoints/sessions.py:107: unused function 'get_session_status' (60% confidence)
src/asr_service/api/v1/endpoints/sessions.py:171: unused function 'get_session_stats' (60% confidence)
src/asr_service/api/v1/endpoints/websocket.py:16: unused function 'websocket_endpoint' (60% confidence)
src/asr_service/core/config.py:25: unused variable 'model_config' (60% confidence)
src/asr_service/core/config.py:32: unused variable 'WHISPER_MODEL' (60% confidence)
src/asr_service/core/config.py:53: unused variable 'COLD_PATH_PARALLEL' (60% confidence)
src/asr_service/core/config.py:59: unused variable 'HOST' (60% confidence)
src/asr_service/core/config.py:62: unused variable 'PORT' (60% confidence)
src/asr_service/core/config.py:71: unused variable 'COLD_PATH_PARALLEL_WORKERS' (60% confidence)
src/asr_service/core/exceptions.py:22: unused class 'DeviceNotFoundError' (60% confidence)
src/asr_service/core/exceptions.py:50: unused class 'SessionStateError' (60% confidence)
src/asr_service/core/singleton.py:18: unused variable 'args' (100% confidence)
src/asr_service/main.py:71: unused function 'root' (60% confidence)
src/asr_service/main.py:87: unused function 'health' (60% confidence)
src/asr_service/schemas/devices.py:32: unused class 'Config' (60% confidence)
src/asr_service/schemas/devices.py:33: unused variable 'json_schema_extra' (60% confidence)
src/asr_service/schemas/transcription.py:43: unused variable 'is_final' (60% confidence)
src/asr_service/schemas/transcription.py:49: unused class 'Config' (60% confidence)
src/asr_service/schemas/transcription.py:50: unused variable 'frozen' (60% confidence)
src/asr_service/schemas/transcription.py:51: unused variable 'json_schema_extra' (60% confidence)
src/asr_service/schemas/transcription.py:83: unused class 'Config' (60% confidence)
src/asr_service/schemas/transcription.py:84: unused variable 'json_schema_extra' (60% confidence)
src/asr_service/schemas/transcription.py:106: unused class 'Config' (60% confidence)
src/asr_service/schemas/transcription.py:107: unused variable 'json_schema_extra' (60% confidence)
src/asr_service/schemas/transcription.py:130: unused variable 'websocket_url' (60% confidence)
src/asr_service/schemas/transcription.py:132: unused class 'Config' (60% confidence)
src/asr_service/schemas/transcription.py:133: unused variable 'json_schema_extra' (60% confidence)
src/asr_service/schemas/transcription.py:159: unused variable 'duration_seconds' (60% confidence)
src/asr_service/schemas/transcription.py:162: unused variable 'audio_file_path' (60% confidence)
src/asr_service/schemas/transcription.py:164: unused class 'Config' (60% confidence)
src/asr_service/schemas/transcription.py:165: unused variable 'json_schema_extra' (60% confidence)
src/asr_service/schemas/transcription.py:194: unused variable 'words' (60% confidence)
src/asr_service/schemas/websocket.py:19: unused variable 'type' (60% confidence)
src/asr_service/schemas/websocket.py:22: unused class 'Config' (60% confidence)
src/asr_service/schemas/websocket.py:23: unused variable 'json_schema_extra' (60% confidence)
src/asr_service/schemas/websocket.py:46: unused variable 'type' (60% confidence)
src/asr_service/schemas/websocket.py:49: unused class 'Config' (60% confidence)
src/asr_service/schemas/websocket.py:50: unused variable 'json_schema_extra' (60% confidence)
src/asr_service/schemas/websocket.py:60: unused variable 'type' (60% confidence)
src/asr_service/schemas/websocket.py:62: unused variable 'code' (60% confidence)
src/asr_service/schemas/websocket.py:64: unused class 'Config' (60% confidence)
src/asr_service/schemas/websocket.py:65: unused variable 'json_schema_extra' (60% confidence)
src/asr_service/schemas/websocket.py:81: unused variable 'type' (60% confidence)
src/asr_service/schemas/websocket.py:86: unused class 'Config' (60% confidence)
src/asr_service/schemas/websocket.py:87: unused variable 'json_schema_extra' (60% confidence)
src/asr_service/schemas/websocket.py:106: unused variable 'type' (60% confidence)
src/asr_service/schemas/websocket.py:110: unused class 'Config' (60% confidence)
src/asr_service/schemas/websocket.py:111: unused variable 'json_schema_extra' (60% confidence)
src/asr_service/schemas/websocket.py:121: unused variable 'WSMessage' (60% confidence)
src/asr_service/services/audio_devices.py:171: unused function 'get_device_by_index' (60% confidence)
src/asr_service/services/audio_devices.py:188: unused function 'get_default_input_device' (60% confidence)
src/asr_service/services/audio_mixer.py:146: unused method 'get_duration' (60% confidence)
src/asr_service/services/session_manager.py:160: unused method 'get_all_sessions' (60% confidence)
src/asr_service/services/transcript_merger.py:135: unused method 'get_utterances_since' (60% confidence)
src/asr_service/services/vad_producer.py:171: unused variable 'frames' (100% confidence)
src/asr_service/services/vad_producer.py:171: unused variable 'time_info' (100% confidence)
src/asr_service/utils/file_ops.py:30: unused function 'create_temp_file' (60% confidence)
src/asr_service/utils/file_ops.py:54: unused function 'validate_mime_type' (60% confidence)
src/cli_frontend/app.py:19: unused variable 'CSS_PATH' (60% confidence)
src/cli_frontend/app.py:22: unused variable 'TITLE' (60% confidence)
src/cli_frontend/app.py:23: unused variable 'SUB_TITLE' (60% confidence)
src/cli_frontend/app.py:26: unused variable 'BINDINGS' (60% confidence)
src/cli_frontend/app.py:38: unused method 'on_mount' (60% confidence)
src/cli_frontend/app.py:43: unused method 'action_settings' (60% confidence)
src/cli_frontend/app.py:53: unused method 'action_help' (60% confidence)
src/cli_frontend/app.py:83: unused method 'action_quit' (60% confidence)
src/cli_frontend/config.py:20: unused variable 'last_mic_device_index' (60% confidence)
src/cli_frontend/config.py:21: unused variable 'last_system_audio_device_index' (60% confidence)
src/cli_frontend/config.py:25: unused class 'Config' (60% confidence)
src/cli_frontend/config.py:26: unused variable 'env_prefix' (60% confidence)
src/cli_frontend/config.py:27: unused variable 'extra' (60% confidence)
src/cli_frontend/models.py:39: unused variable 'is_final' (60% confidence)
src/cli_frontend/models.py:48: unused variable 'websocket_url' (60% confidence)
src/cli_frontend/models.py:55: unused variable 'type' (60% confidence)
src/cli_frontend/models.py:62: unused variable 'type' (60% confidence)
src/cli_frontend/models.py:69: unused variable 'type' (60% confidence)
src/cli_frontend/models.py:76: unused variable 'type' (60% confidence)
src/cli_frontend/models.py:78: unused variable 'code' (60% confidence)
src/cli_frontend/models.py:82: unused variable 'WSMessage' (60% confidence)
src/cli_frontend/screens/recording.py:23: unused variable 'BINDINGS' (60% confidence)
src/cli_frontend/screens/recording.py:50: unused method 'compose' (60% confidence)
src/cli_frontend/screens/recording.py:64: unused method 'on_mount' (60% confidence)
src/cli_frontend/screens/recording.py:147: unused method 'action_stop_recording' (60% confidence)
src/cli_frontend/screens/recording.py:151: unused method 'on_button_pressed' (60% confidence)
src/cli_frontend/screens/recording.py:183: unused method 'on_unmount' (60% confidence)
src/cli_frontend/screens/settings.py:17: unused variable 'BINDINGS' (60% confidence)
src/cli_frontend/screens/settings.py:25: unused method 'compose' (60% confidence)
src/cli_frontend/screens/settings.py:77: unused method 'on_button_pressed' (60% confidence)
src/cli_frontend/screens/setup.py:23: unused variable 'BINDINGS' (60% confidence)
src/cli_frontend/screens/setup.py:35: unused method 'compose' (60% confidence)
src/cli_frontend/screens/setup.py:71: unused method 'on_mount' (60% confidence)
src/cli_frontend/screens/setup.py:121: unused method 'on_button_pressed' (60% confidence)
src/cli_frontend/settings_persistence.py:83: unused method 'load_output_dir' (60% confidence)
src/cli_frontend/widgets/transcript_view.py:64: unused method 'clear_transcript' (60% confidence)

=== PYLINT ===
************* Module asr_service.main
src/asr_service/main.py:18:19: W0613: Unused argument 'app' (unused-argument)
************* Module asr_service.core.config
src/asr_service/core/config.py:90:12: C0415: Import outside toplevel (torch) (import-outside-toplevel)
src/asr_service/core/config.py:92:12: R1705: Unnecessary "elif" after "return", remove the leading "el" from "elif" (no-else-return)
************* Module asr_service.core.singleton
src/asr_service/core/singleton.py:18:0: W0613: Unused argument 'args' (unused-argument)
src/asr_service/core/singleton.py:18:0: W0613: Unused argument 'kwargs' (unused-argument)
src/asr_service/core/singleton.py:12:0: R0903: Too few public methods (1/2) (too-few-public-methods)
************* Module asr_service.core.exceptions
src/asr_service/core/exceptions.py:11:4: W0107: Unnecessary pass statement (unnecessary-pass)
************* Module asr_service.utils.file_ops
src/asr_service/utils/file_ops.py:1:0: C0114: Missing module docstring (missing-module-docstring)
************* Module asr_service.schemas.transcription
src/asr_service/schemas/transcription.py:49:4: C0115: Missing class docstring (missing-class-docstring)
src/asr_service/schemas/transcription.py:49:4: R0903: Too few public methods (0/2) (too-few-public-methods)
src/asr_service/schemas/transcription.py:83:4: C0115: Missing class docstring (missing-class-docstring)
src/asr_service/schemas/transcription.py:83:4: R0903: Too few public methods (0/2) (too-few-public-methods)
src/asr_service/schemas/transcription.py:106:4: C0115: Missing class docstring (missing-class-docstring)
src/asr_service/schemas/transcription.py:106:4: R0903: Too few public methods (0/2) (too-few-public-methods)
src/asr_service/schemas/transcription.py:132:4: C0115: Missing class docstring (missing-class-docstring)
src/asr_service/schemas/transcription.py:132:4: R0903: Too few public methods (0/2) (too-few-public-methods)
src/asr_service/schemas/transcription.py:164:4: C0115: Missing class docstring (missing-class-docstring)
src/asr_service/schemas/transcription.py:164:4: R0903: Too few public methods (0/2) (too-few-public-methods)
************* Module asr_service.schemas.devices
src/asr_service/schemas/devices.py:32:4: C0115: Missing class docstring (missing-class-docstring)
src/asr_service/schemas/devices.py:32:4: R0903: Too few public methods (0/2) (too-few-public-methods)
************* Module asr_service.schemas.websocket
src/asr_service/schemas/websocket.py:22:4: C0115: Missing class docstring (missing-class-docstring)
src/asr_service/schemas/websocket.py:22:4: R0903: Too few public methods (0/2) (too-few-public-methods)
src/asr_service/schemas/websocket.py:49:4: C0115: Missing class docstring (missing-class-docstring)
src/asr_service/schemas/websocket.py:49:4: R0903: Too few public methods (0/2) (too-few-public-methods)
src/asr_service/schemas/websocket.py:64:4: C0115: Missing class docstring (missing-class-docstring)
src/asr_service/schemas/websocket.py:64:4: R0903: Too few public methods (0/2) (too-few-public-methods)
src/asr_service/schemas/websocket.py:86:4: C0115: Missing class docstring (missing-class-docstring)
src/asr_service/schemas/websocket.py:86:4: R0903: Too few public methods (0/2) (too-few-public-methods)
src/asr_service/schemas/websocket.py:110:4: C0115: Missing class docstring (missing-class-docstring)
src/asr_service/schemas/websocket.py:110:4: R0903: Too few public methods (0/2) (too-few-public-methods)
************* Module asr_service.api.v1.endpoints.sessions
src/asr_service/api/v1/endpoints/sessions.py:71:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail=str(e)) from e' (raise-missing-from)
src/asr_service/api/v1/endpoints/sessions.py:99:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail=str(e)) from e' (raise-missing-from)
src/asr_service/api/v1/endpoints/sessions.py:102:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_500_INTERNAL_SERVER_ERROR, detail=str(e)) from e' (raise-missing-from)
src/asr_service/api/v1/endpoints/sessions.py:136:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail=str(e)) from e' (raise-missing-from)
src/asr_service/api/v1/endpoints/sessions.py:186:8: W0707: Consider explicitly re-raising using 'raise HTTPException(status_code=status.HTTP_404_NOT_FOUND, detail=str(e)) from e' (raise-missing-from)
src/asr_service/api/v1/endpoints/sessions.py:8:0: C0411: standard import "typing.List" should be placed before third party import "fastapi.APIRouter" (wrong-import-order)
************* Module asr_service.api.v1.endpoints.devices
src/asr_service/api/v1/endpoints/devices.py:8:0: C0411: standard import "typing.List" should be placed before third party import "fastapi.APIRouter" (wrong-import-order)
************* Module asr_service.api.v1.endpoints.websocket
src/asr_service/api/v1/endpoints/websocket.py:72:11: W0718: Catching too general exception Exception (broad-exception-caught)
************* Module asr_service.services.source_pipeline
src/asr_service/services/source_pipeline.py:27:4: R0913: Too many arguments (6/5) (too-many-arguments)
src/asr_service/services/source_pipeline.py:27:4: R0917: Too many positional arguments (6/5) (too-many-positional-arguments)
************* Module asr_service.services.session_manager
src/asr_service/services/session_manager.py:74:16: W0707: Consider explicitly re-raising using 'except ValueError as exc' and 'raise ValueError(f'Output directory must be within {allowed_base}') from exc' (raise-missing-from)
src/asr_service/services/session_manager.py:30:11: E0203: Access to member '_initialized' before its definition line 37 (access-member-before-definition)
************* Module asr_service.services.session
src/asr_service/services/session.py:463:0: C0301: Line too long (102/100) (line-too-long)
src/asr_service/services/session.py:41:0: R0902: Too many instance attributes (20/7) (too-many-instance-attributes)
src/asr_service/services/session.py:326:8: R1705: Unnecessary "else" after "return", remove the "else" and de-indent the code inside it (no-else-return)
src/asr_service/services/session.py:16:0: C0411: standard import "concurrent.futures" should be placed before third party import "fastapi.WebSocket" (wrong-import-order)
************* Module asr_service.services.audio_devices
src/asr_service/services/audio_devices.py:55:0: C0301: Line too long (123/100) (line-too-long)
src/asr_service/services/audio_devices.py:59:0: C0301: Line too long (124/100) (line-too-long)
src/asr_service/services/audio_devices.py:69:0: C0301: Line too long (110/100) (line-too-long)
src/asr_service/services/audio_devices.py:74:0: C0301: Line too long (102/100) (line-too-long)
src/asr_service/services/audio_devices.py:99:0: C0301: Line too long (139/100) (line-too-long)
src/asr_service/services/audio_devices.py:104:11: W0718: Catching too general exception Exception (broad-exception-caught)
src/asr_service/services/audio_devices.py:9:0: C0411: standard import "platform" should be placed before third party import "sounddevice" (wrong-import-order)
src/asr_service/services/audio_devices.py:10:0: C0411: standard import "typing.List" should be placed before third party import "sounddevice" (wrong-import-order)
************* Module asr_service.services.vad_producer
src/asr_service/services/vad_producer.py:158:0: C0301: Line too long (104/100) (line-too-long)
src/asr_service/services/vad_producer.py:281:0: C0301: Line too long (117/100) (line-too-long)
src/asr_service/services/vad_producer.py:26:0: R0902: Too many instance attributes (16/7) (too-many-instance-attributes)
src/asr_service/services/vad_producer.py:36:4: R0913: Too many arguments (11/5) (too-many-arguments)
src/asr_service/services/vad_producer.py:36:4: R0917: Too many positional arguments (11/5) (too-many-positional-arguments)
src/asr_service/services/vad_producer.py:171:47: W0613: Unused argument 'frames' (unused-argument)
src/asr_service/services/vad_producer.py:171:60: W0613: Unused argument 'time_info' (unused-argument)
src/asr_service/services/vad_producer.py:233:12: W0707: Consider explicitly re-raising using 'raise AudioCaptureError(self.device_index, str(e)) from e' (raise-missing-from)
src/asr_service/services/vad_producer.py:244:8: R1702: Too many nested blocks (6/5) (too-many-nested-blocks)
************* Module asr_service.services.model_manager
src/asr_service/services/model_manager.py:105:12: W0707: Consider explicitly re-raising using 'raise ModelLoadingError('VAD/Whisper', str(e)) from e' (raise-missing-from)
src/asr_service/services/model_manager.py:132:15: W0718: Catching too general exception Exception (broad-exception-caught)
src/asr_service/services/model_manager.py:114:12: C0415: Import outside toplevel (mlx_whisper) (import-outside-toplevel)
src/asr_service/services/model_manager.py:115:12: C0415: Import outside toplevel (numpy) (import-outside-toplevel)
src/asr_service/services/model_manager.py:212:8: C0415: Import outside toplevel (gc) (import-outside-toplevel)
src/asr_service/services/model_manager.py:35:11: E0203: Access to member '_initialized' before its definition line 47 (access-member-before-definition)
************* Module asr_service.services.audio_producer
src/asr_service/services/audio_producer.py:51:8: W0107: Unnecessary pass statement (unnecessary-pass)
src/asr_service/services/audio_producer.py:56:8: W0107: Unnecessary pass statement (unnecessary-pass)
src/asr_service/services/audio_producer.py:66:8: W0107: Unnecessary pass statement (unnecessary-pass)
src/asr_service/services/audio_producer.py:76:8: W0107: Unnecessary pass statement (unnecessary-pass)
************* Module asr_service.services.transcript_merger
src/asr_service/services/transcript_merger.py:120:0: C0301: Line too long (105/100) (line-too-long)
src/asr_service/services/transcript_merger.py:81:19: W0718: Catching too general exception Exception (broad-exception-caught)
************* Module asr_service.services.screencapture_producer
src/asr_service/services/screencapture_producer.py:51:0: C0301: Line too long (105/100) (line-too-long)
src/asr_service/services/screencapture_producer.py:22:0: R0902: Too many instance attributes (12/7) (too-many-instance-attributes)
src/asr_service/services/screencapture_producer.py:32:4: R0913: Too many arguments (8/5) (too-many-arguments)
src/asr_service/services/screencapture_producer.py:32:4: R0917: Too many positional arguments (8/5) (too-many-positional-arguments)
src/asr_service/services/screencapture_producer.py:125:28: R1732: Consider using 'with' for resource-allocating operations (consider-using-with)
src/asr_service/services/screencapture_producer.py:14:0: C0411: standard import "pathlib.Path" should be placed before third party import "numpy" (wrong-import-order)
************* Module asr_service.services.live_transcriber
src/asr_service/services/live_transcriber.py:173:0: C0301: Line too long (104/100) (line-too-long)
src/asr_service/services/live_transcriber.py:26:0: R0902: Too many instance attributes (10/7) (too-many-instance-attributes)
src/asr_service/services/live_transcriber.py:36:4: R0913: Too many arguments (6/5) (too-many-arguments)
src/asr_service/services/live_transcriber.py:36:4: R0917: Too many positional arguments (6/5) (too-many-positional-arguments)
src/asr_service/services/live_transcriber.py:213:12: C0415: Import outside toplevel (mlx_whisper) (import-outside-toplevel)
src/asr_service/services/live_transcriber.py:219:21: W1514: Using open without explicitly specifying an encoding (unspecified-encoding)
src/asr_service/services/live_transcriber.py:252:12: W0707: Consider explicitly re-raising using 'raise TranscriptionError(str(e), self.source_id) from e' (raise-missing-from)
************* Module asr_service.services.cold_transcriber
src/asr_service/services/cold_transcriber.py:179:0: C0301: Line too long (116/100) (line-too-long)
src/asr_service/services/cold_transcriber.py:204:0: C0301: Line too long (133/100) (line-too-long)
src/asr_service/services/cold_transcriber.py:310:0: C0301: Line too long (104/100) (line-too-long)
src/asr_service/services/cold_transcriber.py:313:0: C0301: Line too long (122/100) (line-too-long)
src/asr_service/services/cold_transcriber.py:402:0: C0301: Line too long (109/100) (line-too-long)
src/asr_service/services/cold_transcriber.py:50:8: C0415: Import outside toplevel (model_manager.ModelManager) (import-outside-toplevel)
src/asr_service/services/cold_transcriber.py:73:4: R0914: Too many local variables (30/15) (too-many-locals)
src/asr_service/services/cold_transcriber.py:122:12: C0415: Import outside toplevel (model_manager.ModelManager) (import-outside-toplevel)
src/asr_service/services/cold_transcriber.py:124:17: W0212: Access to a protected member _cold_pipeline_lock of a client class (protected-access)
src/asr_service/services/cold_transcriber.py:135:8: C0415: Import outside toplevel (shutil) (import-outside-toplevel)
src/asr_service/services/cold_transcriber.py:162:20: C0415: Import outside toplevel (model_manager.ModelManager) (import-outside-toplevel)
src/asr_service/services/cold_transcriber.py:163:20: C0415: Import outside toplevel (threading) (import-outside-toplevel)
src/asr_service/services/cold_transcriber.py:174:34: W0640: Cell variable heartbeat_stop defined in loop (cell-var-from-loop)
src/asr_service/services/cold_transcriber.py:175:28: W0640: Cell variable heartbeat_stop defined in loop (cell-var-from-loop)
src/asr_service/services/cold_transcriber.py:176:35: W0640: Cell variable heartbeat_stop defined in loop (cell-var-from-loop)
src/asr_service/services/cold_transcriber.py:177:56: W0640: Cell variable chunk_start_time defined in loop (cell-var-from-loop)
src/asr_service/services/cold_transcriber.py:179:45: W0640: Cell variable chunk_idx defined in loop (cell-var-from-loop)
src/asr_service/services/cold_transcriber.py:186:29: W0212: Access to a protected member _cold_pipeline_lock of a client class (protected-access)
src/asr_service/services/cold_transcriber.py:209:20: W0707: Consider explicitly re-raising using 'raise TranscriptionError(f'Chunk {chunk_idx + 1} failed: {e}') from e' (raise-missing-from)
src/asr_service/services/cold_transcriber.py:229:12: C0415: Import outside toplevel (model_manager.ModelManager) (import-outside-toplevel)
src/asr_service/services/cold_transcriber.py:231:17: W0212: Access to a protected member _cold_pipeline_lock of a client class (protected-access)
src/asr_service/services/cold_transcriber.py:73:4: R0915: Too many statements (67/50) (too-many-statements)
src/asr_service/services/cold_transcriber.py:244:4: R0914: Too many local variables (38/15) (too-many-locals)
src/asr_service/services/cold_transcriber.py:244:4: R0912: Too many branches (15/12) (too-many-branches)
src/asr_service/services/cold_transcriber.py:244:4: R0915: Too many statements (69/50) (too-many-statements)
src/asr_service/services/cold_transcriber.py:23:0: R0903: Too few public methods (1/2) (too-few-public-methods)
************* Module cli_frontend.settings_persistence
src/cli_frontend/settings_persistence.py:48:15: W0718: Catching too general exception Exception (broad-exception-caught)
src/cli_frontend/settings_persistence.py:64:15: W0718: Catching too general exception Exception (broad-exception-caught)
src/cli_frontend/settings_persistence.py:80:15: W0718: Catching too general exception Exception (broad-exception-caught)
src/cli_frontend/settings_persistence.py:95:15: W0718: Catching too general exception Exception (broad-exception-caught)
src/cli_frontend/settings_persistence.py:112:15: W0718: Catching too general exception Exception (broad-exception-caught)
src/cli_frontend/settings_persistence.py:110:17: W1514: Using open without explicitly specifying an encoding (unspecified-encoding)
src/cli_frontend/settings_persistence.py:123:13: W1514: Using open without explicitly specifying an encoding (unspecified-encoding)
************* Module cli_frontend.config
src/cli_frontend/config.py:25:4: C0115: Missing class docstring (missing-class-docstring)
src/cli_frontend/config.py:25:4: R0903: Too few public methods (0/2) (too-few-public-methods)
************* Module cli_frontend.models
src/cli_frontend/models.py:8:0: C0411: standard import "typing.List" should be placed before third party import "pydantic.BaseModel" (wrong-import-order)
************* Module cli_frontend.app
src/cli_frontend/app.py:7:0: E0401: Unable to import 'textual.app' (import-error)
src/cli_frontend/app.py:8:0: E0401: Unable to import 'textual.binding' (import-error)
************* Module cli_frontend.screens.recording
src/cli_frontend/screens/recording.py:7:0: E0401: Unable to import 'textual.app' (import-error)
src/cli_frontend/screens/recording.py:8:0: E0401: Unable to import 'textual.screen' (import-error)
src/cli_frontend/screens/recording.py:9:0: E0401: Unable to import 'textual.containers' (import-error)
src/cli_frontend/screens/recording.py:10:0: E0401: Unable to import 'textual.widgets' (import-error)
src/cli_frontend/screens/recording.py:103:19: W0718: Catching too general exception Exception (broad-exception-caught)
src/cli_frontend/screens/recording.py:128:19: W0718: Catching too general exception Exception (broad-exception-caught)
src/cli_frontend/screens/recording.py:169:15: W0718: Catching too general exception Exception (broad-exception-caught)
************* Module cli_frontend.screens.setup
src/cli_frontend/screens/setup.py:88:0: C0301: Line too long (118/100) (line-too-long)
src/cli_frontend/screens/setup.py:8:0: E0401: Unable to import 'textual.app' (import-error)
src/cli_frontend/screens/setup.py:9:0: E0401: Unable to import 'textual.screen' (import-error)
src/cli_frontend/screens/setup.py:10:0: E0401: Unable to import 'textual.containers' (import-error)
src/cli_frontend/screens/setup.py:11:0: E0401: Unable to import 'textual.widgets' (import-error)
src/cli_frontend/screens/setup.py:115:15: W0718: Catching too general exception Exception (broad-exception-caught)
src/cli_frontend/screens/setup.py:204:15: W0718: Catching too general exception Exception (broad-exception-caught)
src/cli_frontend/screens/setup.py:192:12: C0415: Import outside toplevel (recording.RecordingScreen) (import-outside-toplevel)
************* Module cli_frontend.screens.settings
src/cli_frontend/screens/settings.py:7:0: E0401: Unable to import 'textual.screen' (import-error)
src/cli_frontend/screens/settings.py:8:0: E0401: Unable to import 'textual.app' (import-error)
src/cli_frontend/screens/settings.py:9:0: E0401: Unable to import 'textual.containers' (import-error)
src/cli_frontend/screens/settings.py:10:0: E0401: Unable to import 'textual.widgets' (import-error)
************* Module cli_frontend.api.client
src/cli_frontend/api/client.py:8:0: C0411: standard import "typing.List" should be placed before third party import "httpx" (wrong-import-order)
************* Module cli_frontend.api.websocket
src/cli_frontend/api/websocket.py:64:15: W0718: Catching too general exception Exception (broad-exception-caught)
src/cli_frontend/api/websocket.py:57:27: W0718: Catching too general exception Exception (broad-exception-caught)
src/cli_frontend/api/websocket.py:9:0: C0411: standard import "json" should be placed before third party import "websockets" (wrong-import-order)
src/cli_frontend/api/websocket.py:10:0: C0411: standard import "typing.Callable" should be placed before third party import "websockets" (wrong-import-order)
************* Module cli_frontend.widgets.status_bar
src/cli_frontend/widgets/status_bar.py:7:0: E0401: Unable to import 'textual.widgets' (import-error)
src/cli_frontend/widgets/status_bar.py:8:0: E0401: Unable to import 'textual' (import-error)
src/cli_frontend/widgets/status_bar.py:9:0: C0411: standard import "datetime.datetime" should be placed before third party imports "textual.widgets.Static", "textual.work" (wrong-import-order)
src/cli_frontend/widgets/status_bar.py:10:0: C0411: standard import "asyncio" should be placed before third party imports "textual.widgets.Static", "textual.work" (wrong-import-order)
************* Module cli_frontend.widgets.transcript_view
src/cli_frontend/widgets/transcript_view.py:35:0: C0301: Line too long (113/100) (line-too-long)
src/cli_frontend/widgets/transcript_view.py:7:0: E0401: Unable to import 'textual.widgets' (import-error)
src/cli_frontend/widgets/transcript_view.py:8:0: C0411: standard import "datetime.datetime" should be placed before third party import "textual.widgets.RichLog" (wrong-import-order)
************* Module cli_frontend.widgets.device_selector
src/cli_frontend/widgets/device_selector.py:74:0: C0301: Line too long (101/100) (line-too-long)
src/cli_frontend/widgets/device_selector.py:75:0: C0301: Line too long (104/100) (line-too-long)
src/cli_frontend/widgets/device_selector.py:7:0: E0401: Unable to import 'textual.widgets' (import-error)
src/cli_frontend/widgets/device_selector.py:86:16: W0201: Attribute 'value' defined outside __init__ (attribute-defined-outside-init)
src/cli_frontend/widgets/device_selector.py:93:20: W0201: Attribute 'value' defined outside __init__ (attribute-defined-outside-init)
src/cli_frontend/widgets/device_selector.py:12:0: R0903: Too few public methods (1/2) (too-few-public-methods)
src/cli_frontend/widgets/device_selector.py:8:0: C0411: standard import "typing.List" should be placed before third party import "textual.widgets.Select" (wrong-import-order)
src/cli_frontend/widgets/device_selector.py:1:0: R0801: Similar lines in 2 files
==asr_service.core.logging:[106:116]
==cli_frontend.logging:[89:99]
        level=settings.level,
        format=settings.file_format,
        rotation=settings.file_rotation,
        retention=settings.file_retention,
        backtrace=True,
        diagnose=True,
        compression="zip",  # Compress rotated logs
    )

    # Log initialization (duplicate-code)
src/cli_frontend/widgets/device_selector.py:1:0: R0801: Similar lines in 2 files
==asr_service.core.logging:[24:36]
==cli_frontend.logging:[22:34]
LogLevel = Literal["DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL"]
LOG_LEVELS: tuple[LogLevel, ...] = ("DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL")


def _normalize_level(raw_level: str, default: LogLevel) -> LogLevel:
    normalized = raw_level.upper()
    if normalized in LOG_LEVELS:
        return cast(LogLevel, normalized)
    return default


@dataclass (duplicate-code)

------------------------------------------------------------------
Your code has been rated at 8.86/10 (previous run: 8.86/10, +0.00)


=== END ===
